/*!
 * @license SoundJS
 * Visit http://createjs.com/ for documentation, updates and examples.
 *
 * Copyright (c) 2011-2015 gskinner.com, inc.
 *
 * Distributed under the terms of the MIT license.
 * http://www.opensource.org/licenses/mit-license.html
 *
 * This notice shall be included in all copies or substantial portions of the Software.
 */
this.createjs=this.createjs||{},function(){var b=createjs.SoundJS=createjs.SoundJS||{};b.version="0.6.1",b.buildDate="Thu, 21 May 2015 16:17:37 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(e,d){function f(){this.constructor=e}return f.prototype=d.prototype,e.prototype=new f},this.createjs=this.createjs||{},createjs.promote=function(g,f){var j=g.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(j)||j.__proto__;if(i){j[(f+="_")+"constructor"]=i.constructor;for(var h in i){j.hasOwnProperty(h)&&"function"==typeof i[h]&&(j[f+h]=i[h])}}return g},this.createjs=this.createjs||{},createjs.indexOf=function(f,e){for(var h=0,g=f.length;g>h;h++){if(e===f[h]){return h}}return -1},this.createjs=this.createjs||{},function(){createjs.proxy=function(e,d){var f=Array.prototype.slice.call(arguments,2);return function(){return e.apply(d,Array.prototype.slice.call(arguments,0).concat(f))}}}(),this.createjs=this.createjs||{},function(){function c(){throw"BrowserDetect cannot be instantiated"}var b=c.agent=window.navigator.userAgent;c.isWindowPhone=b.indexOf("IEMobile")>-1||b.indexOf("Windows Phone")>-1,c.isFirefox=b.indexOf("Firefox")>-1,c.isOpera=null!=window.opera,c.isChrome=b.indexOf("Chrome")>-1,c.isIOS=(b.indexOf("iPod")>-1||b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1)&&!c.isWindowPhone,c.isAndroid=b.indexOf("Android")>-1&&!c.isWindowPhone,c.isBlackberry=b.indexOf("Blackberry")>-1,createjs.BrowserDetect=c}(),this.createjs=this.createjs||{},function(){function c(){this._listeners=null,this._captureListeners=null}var b=c.prototype;c.initialize=function(a){a.addEventListener=b.addEventListener,a.on=b.on,a.removeEventListener=a.off=b.removeEventListener,a.removeAllEventListeners=b.removeAllEventListeners,a.hasEventListener=b.hasEventListener,a.dispatchEvent=b.dispatchEvent,a._dispatchEvent=b._dispatchEvent,a.willTrigger=b.willTrigger},b.addEventListener=function(g,f,j){var i;i=j?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var h=i[g];return h&&this.removeEventListener(g,f,j),h=i[g],h?h.push(f):i[g]=[f],f},b.on=function(h,g,l,k,j,i){return g.handleEvent&&(l=l||g,g=g.handleEvent),l=l||this,this.addEventListener(h,function(d){g.call(l,d,j),k&&d.remove()},i)},b.removeEventListener=function(i,h,n){var m=n?this._captureListeners:this._listeners;if(m){var l=m[i];if(l){for(var k=0,j=l.length;j>k;k++){if(l[k]==h){1==j?delete m[i]:l.splice(k,1);break}}}}},b.off=b.removeEventListener,b.removeAllEventListeners=function(d){d?(this._listeners&&delete this._listeners[d],this._captureListeners&&delete this._captureListeners[d]):this._listeners=this._captureListeners=null},b.dispatchEvent=function(i){if("string"==typeof i){var h=this._listeners;if(!h||!h[i]){return !1}i=new createjs.Event(i)}else{i.target&&i.clone&&(i=i.clone())}try{i.target=this}catch(n){}if(i.bubbles&&this.parent){for(var m=this,l=[m];m.parent;){l.push(m=m.parent)}var k,j=l.length;for(k=j-1;k>=0&&!i.propagationStopped;k--){l[k]._dispatchEvent(i,1+(0==k))}for(k=1;j>k&&!i.propagationStopped;k++){l[k]._dispatchEvent(i,3)}}else{this._dispatchEvent(i,2)}return i.defaultPrevented},b.hasEventListener=function(e){var d=this._listeners,f=this._captureListeners;return !!(d&&d[e]||f&&f[e])},b.willTrigger=function(e){for(var d=this;d;){if(d.hasEventListener(e)){return !0}d=d.parent}return !1},b.toString=function(){return"[EventDispatcher]"},b._dispatchEvent=function(j,i){var p,o=1==i?this._captureListeners:this._listeners;if(j&&o){var n=o[j.type];if(!n||!(p=n.length)){return}try{j.currentTarget=this}catch(m){}try{j.eventPhase=i}catch(m){}j.removed=!1,n=n.slice();for(var l=0;p>l&&!j.immediatePropagationStopped;l++){var k=n[l];k.handleEvent?k.handleEvent(j):k(j),j.removed&&(this.off(j.type,k,1==i),j.removed=!1)}}},createjs.EventDispatcher=c}(),this.createjs=this.createjs||{},function(){function c(e,d,f){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!d,this.cancelable=!!f,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var b=c.prototype;b.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},b.stopPropagation=function(){this.propagationStopped=!0},b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},b.remove=function(){this.removed=!0},b.clone=function(){return new c(this.type,this.bubbles,this.cancelable)},b.set=function(e){for(var d in e){this[d]=e[d]}return this},b.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=c}(),this.createjs=this.createjs||{},function(){function c(e,d,f){this.Event_constructor("error"),this.title=e,this.message=d,this.data=f}var b=createjs.extend(c,createjs.Event);b.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(c,"Event")}(),this.createjs=this.createjs||{},function(){function c(e,d){this.Event_constructor("progress"),this.loaded=e,this.total=null==d?1:d,this.progress=0==d?0:this.loaded/this.total}var b=createjs.extend(c,createjs.Event);b.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(c,"Event")}(window),this.createjs=this.createjs||{},function(){function d(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=c.LOAD_TIMEOUT_DEFAULT}var e=d.prototype={},c=d;c.LOAD_TIMEOUT_DEFAULT=8000,c.create=function(b){if("string"==typeof b){var f=new d;return f.src=b,f}if(b instanceof c){return b}if(b instanceof Object&&b.src){return null==b.loadTimeout&&(b.loadTimeout=c.LOAD_TIMEOUT_DEFAULT),b}throw new Error("Type not recognized.")},e.set=function(g){for(var f in g){this[f]=g[f]}return this},createjs.LoadItem=c}(),function(){var b={};b.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,b.RELATIVE_PATT=/^[./]*?\//i,b.EXTENSION_PATT=/\/?[^/]+\.(\w{1,5})$/i,b.parseURI=function(a){var h={absolute:!1,relative:!1};if(null==a){return h}var g=a.indexOf("?");g>-1&&(a=a.substr(0,g));var f;return b.ABSOLUTE_PATT.test(a)?h.absolute=!0:b.RELATIVE_PATT.test(a)&&(h.relative=!0),(f=a.match(b.EXTENSION_PATT))&&(h.extension=f[1].toLowerCase()),h},b.formatQueryString=function(f,e){if(null==f){throw new Error("You must specify data.")}var h=[];for(var g in f){h.push(g+"="+escape(f[g]))}return e&&(h=h.concat(e)),h.join("&")},b.buildPath=function(g,f){if(null==f){return g}var j=[],i=g.indexOf("?");if(-1!=i){var h=g.slice(i+1);j=j.concat(h.split("&"))}return -1!=i?g.slice(0,i)+"?"+this._formatQueryString(f,j):g+"?"+this._formatQueryString(f,j)},b.isCrossDomain=function(f){var e=document.createElement("a");e.href=f.src;var h=document.createElement("a");h.href=location.href;var g=""!=e.hostname&&(e.port!=h.port||e.protocol!=h.protocol||e.hostname!=h.hostname);return g},b.isLocal=function(d){var c=document.createElement("a");return c.href=d.src,""==c.hostname&&"file:"==c.protocol},b.isBinary=function(c){switch(c){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return !0;default:return !1}},b.isImageTag=function(c){return c instanceof HTMLImageElement},b.isAudioTag=function(c){return window.HTMLAudioElement?c instanceof HTMLAudioElement:!1},b.isVideoTag=function(c){return window.HTMLVideoElement?c instanceof HTMLVideoElement:!1},b.isText=function(c){switch(c){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return !0;default:return !1}},b.getTypeByExtension=function(c){if(null==c){return createjs.AbstractLoader.TEXT}switch(c.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=b}(),this.createjs=this.createjs||{},function(){function d(g,f,h){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=h,this.resultFormatter=null,this._item=g?createjs.LoadItem.create(g):null,this._preferXHR=f,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(d,createjs.EventDispatcher),c=d;c.POST="POST",c.GET="GET",c.BINARY="binary",c.CSS="css",c.IMAGE="image",c.JAVASCRIPT="javascript",c.JSON="json",c.JSONP="jsonp",c.MANIFEST="manifest",c.SOUND="sound",c.VIDEO="video",c.SPRITESHEET="spritesheet",c.SVG="svg",c.TEXT="text",c.XML="xml",e.getItem=function(){return this._item},e.getResult=function(b){return b?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(b){this._tag=b},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var b=new createjs.Event("initialize");b.loader=this._request,this.dispatchEvent(b),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(g){if(!this._isCanceled()){var f=null;"number"==typeof g?(this.progress=g,f=new createjs.ProgressEvent(this.progress)):(f=g,this.progress=g.loaded/g.total,f.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(f)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var b=new createjs.Event("complete");b.rawResult=this._rawResult,null!=this._result&&(b.result=this._result),this.dispatchEvent(b)}},e._sendError=function(b){!this._isCanceled()&&this.hasEventListener("error")&&(null==b&&(b=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(b))},e._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},e.resultFormatter=null,e.handleEvent=function(g){switch(g.type){case"complete":this._rawResult=g.target._response;var f=this.resultFormatter&&this.resultFormatter(this),h=this;f instanceof Function?f(function(b){h._result=b,h._sendComplete()}):(this._result=f||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(g);break;case"error":this._sendError(g);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(g.type)}},e.buildPath=function(g,f){return createjs.RequestUtils.buildPath(g,f)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(d,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){function c(e,d,f){this.AbstractLoader_constructor(e,d,f),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src"}var b=createjs.extend(c,createjs.AbstractLoader);b.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},b._createTag=function(){},b._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},b._formatResult=function(d){return this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(d.getTag().src=d.getResult(!0)),d.getTag()},createjs.AbstractMediaLoader=createjs.promote(c,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){var c=function(d){this._item=d},b=createjs.extend(c,createjs.EventDispatcher);b.load=function(){},b.destroy=function(){},b.cancel=function(){},createjs.AbstractRequest=createjs.promote(c,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){function b(e,d,f){this.AbstractRequest_constructor(e),this._tag=d,this._tagSrcAttribute=f,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var c=createjs.extend(b,createjs.AbstractRequest);c.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var d=new createjs.Event("initialize");d.loader=this._tag,this.dispatchEvent(d),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},c.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},c._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var d=this._tag;("loaded"==d.readyState||"complete"==d.readyState)&&this._handleTagComplete()},c._handleError=function(){this._clean(),this.dispatchEvent("error")},c._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},c._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},c._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},c._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},c._showTag=function(){this._tag.style.visibility=this._startTagVisibility},c._handleStalled=function(){},createjs.TagRequest=createjs.promote(b,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){function c(e,d,f){this.AbstractRequest_constructor(e),this._tag=d,this._tagSrcAttribute=f,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var b=createjs.extend(c,createjs.TagRequest);b.load=function(){var e=createjs.proxy(this._handleStalled,this);this._stalledCallback=e;var d=createjs.proxy(this._handleProgress,this);this._handleProgress=d,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",d),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var d=this._tag;("loaded"==d.readyState||"complete"==d.readyState)&&this._handleTagComplete()},b._handleStalled=function(){},b._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var d=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(d)}},b._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(c,"TagRequest")}(),this.createjs=this.createjs||{},function(){function c(d){this.AbstractRequest_constructor(d),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(d)}var b=createjs.extend(c,createjs.AbstractRequest);c.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b.getResult=function(d){return d&&this._rawResponse?this._rawResponse:this._response},b.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},b.load=function(){if(null==this._request){return void this._handleError()}this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(d){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,d))}},b.setResponseType=function(d){this._request.responseType=d},b.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},b.getResponseHeader=function(d){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(d):null},b._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var d=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(d)}},b._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},b._handleAbort=function(d){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,d))},b._handleError=function(d){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(d.message))},b._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},b._handleLoad=function(){if(!this.loaded){this.loaded=!0;var d=this._checkError();if(d){return void this._handleError(d)}this._response=this._getResponse(),this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},b._handleTimeout=function(d){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,d))},b._checkError=function(){var d=parseInt(this._request.status);switch(d){case 404:case 0:return new Error(d)}return null},b._getResponse=function(){if(null!=this._response){return this._response}if(null!=this._request.response){return this._request.response}try{if(null!=this._request.responseText){return this._request.responseText}}catch(d){}try{if(null!=this._request.responseXML){return this._request.responseXML}}catch(d){}return null},b._createXHR=function(r){var q=createjs.RequestUtils.isCrossDomain(r),p={},o=null;if(window.XMLHttpRequest){o=new XMLHttpRequest,q&&void 0===o.withCredentials&&window.XDomainRequest&&(o=new XDomainRequest)}else{for(var n=0,m=s.ACTIVEX_VERSIONS.length;m>n;n++){s.ACTIVEX_VERSIONS[n];try{o=new ActiveXObject(axVersions);break}catch(l){}}if(null==o){return !1}}null==r.mimeType&&createjs.RequestUtils.isText(r.type)&&(r.mimeType="text/plain; charset=utf-8"),r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType),this._xhrLevel="string"==typeof o.responseType?2:1;var k=null;if(k=r.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(r.src,r.values):r.src,o.open(r.method||createjs.AbstractLoader.GET,k,!0),q&&o instanceof XMLHttpRequest&&1==this._xhrLevel&&(p.Origin=location.origin),r.values&&r.method==createjs.AbstractLoader.POST&&(p["Content-Type"]="application/x-www-form-urlencoded"),q||p["X-Requested-With"]||(p["X-Requested-With"]="XMLHttpRequest"),r.headers){for(var j in r.headers){p[j]=r.headers[j]}}for(j in p){o.setRequestHeader(j,p[j])}return o instanceof XMLHttpRequest&&void 0!==r.withCredentials&&(o.withCredentials=r.withCredentials),this._request=o,!0},b._clean=function(){clearTimeout(this._loadTimeout),this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)},b.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(c,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){function e(g,f){this.AbstractMediaLoader_constructor(g,f,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(g)?this._tag=g:createjs.RequestUtils.isAudioTag(g.src)?this._tag=g:createjs.RequestUtils.isAudioTag(g.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(g)?g:g.src),null!=this._tag&&(this._preferXHR=!1)}var d=createjs.extend(e,createjs.AbstractMediaLoader),c=e;c.canLoadItem=function(b){return b.type==createjs.AbstractLoader.SOUND},d._createTag=function(g){var f=document.createElement("audio");return f.autoplay=!1,f.preload="none",f.src=g,f},createjs.SoundLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){var e=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},d=e.prototype={},c=e;c.create=function(b){if(b instanceof c||b instanceof Object){var f=new createjs.PlayPropsConfig;return f.set(b),f}throw new Error("Type not recognized.")},d.set=function(g){for(var f in g){this[f]=g[f]}return this},d.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=c}(),this.createjs=this.createjs||{},function(){function f(){throw"Sound cannot be instantiated"}function e(h,c){this.init(h,c)}var d=f;d.INTERRUPT_ANY="any",d.INTERRUPT_EARLY="early",d.INTERRUPT_LATE="late",d.INTERRUPT_NONE="none",d.PLAY_INITED="playInited",d.PLAY_SUCCEEDED="playSucceeded",d.PLAY_INTERRUPTED="playInterrupted",d.PLAY_FINISHED="playFinished",d.PLAY_FAILED="playFailed",d.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],d.EXTENSION_MAP={m4a:"mp4"},d.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,d.defaultInterruptBehavior=d.INTERRUPT_NONE,d.alternateExtensions=[],d.activePlugin=null,d._masterVolume=1,Object.defineProperty(d,"volume",{get:function(){return this._masterVolume},set:function(b){if(null==Number(b)){return !1}if(b=Math.max(0,Math.min(1,b)),d._masterVolume=b,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(b)){for(var j=this._instances,i=0,h=j.length;h>i;i++){j[i].setMasterVolume(b)}}}}),d._masterMute=!1,Object.defineProperty(d,"muted",{get:function(){return this._masterMute},set:function(i){if(null==i){return !1}if(this._masterMute=i,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(i)){for(var h=this._instances,k=0,j=h.length;j>k;k++){h[k].setMasterMute(i)}}return !0}}),Object.defineProperty(d,"capabilities",{get:function(){return null==d.activePlugin?null:d.activePlugin._capabilities},set:function(){return !1}}),d._pluginsRegistered=!1,d._lastID=0,d._instances=[],d._idHash={},d._preloadHash={},d._defaultPlayPropsHash={},d.addEventListener=null,d.removeEventListener=null,d.removeAllEventListeners=null,d.dispatchEvent=null,d.hasEventListener=null,d._listeners=null,createjs.EventDispatcher.initialize(d),d.getPreloadHandlers=function(){return{callback:createjs.proxy(d.initLoad,d),types:["sound"],extensions:d.SUPPORTED_EXTENSIONS}},d._handleLoadComplete=function(b){var k=b.target.getItem().src;if(d._preloadHash[k]){for(var j=0,i=d._preloadHash[k].length;i>j;j++){var h=d._preloadHash[k][j];if(d._preloadHash[k][j]=!0,d.hasEventListener("fileload")){var b=new createjs.Event("fileload");b.src=h.src,b.id=h.id,b.data=h.data,b.sprite=h.sprite,d.dispatchEvent(b)}}}},d._handleLoadError=function(b){var k=b.target.getItem().src;if(d._preloadHash[k]){for(var j=0,i=d._preloadHash[k].length;i>j;j++){var h=d._preloadHash[k][j];if(d._preloadHash[k][j]=!1,d.hasEventListener("fileerror")){var b=new createjs.Event("fileerror");b.src=h.src,b.id=h.id,b.data=h.data,b.sprite=h.sprite,d.dispatchEvent(b)}}}},d._registerPlugin=function(b){return b.isSupported()?(d.activePlugin=new b,!0):!1},d.registerPlugins=function(b){d._pluginsRegistered=!0;for(var i=0,h=b.length;h>i;i++){if(d._registerPlugin(b[i])){return !0}}return !1},d.initializeDefaultPlugins=function(){return null!=d.activePlugin?!0:d._pluginsRegistered?!1:d.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1},d.isReady=function(){return null!=d.activePlugin},d.getCapabilities=function(){return null==d.activePlugin?null:d.activePlugin._capabilities},d.getCapability=function(b){return null==d.activePlugin?null:d.activePlugin._capabilities[b]},d.initLoad=function(b){return d._registerSound(b)},d._registerSound=function(n){if(!d.initializeDefaultPlugins()){return !1}var m;if(n.src instanceof Object?(m=d._parseSrc(n.src),m.src=n.path+m.src):m=d._parsePath(n.src),null==m){return !1}n.src=m.src,n.type="sound";var l=n.data,k=null;if(null!=l&&(isNaN(l.channels)?isNaN(l)||(k=parseInt(l)):k=parseInt(l.channels),l.audioSprite)){for(var j,b=l.audioSprite.length;b--;){j=l.audioSprite[b],d._idHash[j.id]={src:n.src,startTime:parseInt(j.startTime),duration:parseInt(j.duration)},j.defaultPlayProps&&(d._defaultPlayPropsHash[j.id]=createjs.PlayPropsConfig.create(j.defaultPlayProps))}}null!=n.id&&(d._idHash[n.id]={src:n.src});var a=d.activePlugin.register(n);return e.create(n.src,k),null!=l&&isNaN(l)?n.data.channels=k||e.maxPerChannel():n.data=k||e.maxPerChannel(),a.type&&(n.type=a.type),n.defaultPlayProps&&(d._defaultPlayPropsHash[n.src]=createjs.PlayPropsConfig.create(n.defaultPlayProps)),a},d.registerSound=function(b,n,m,l,k){var j={src:b,id:n,data:m,defaultPlayProps:k};b instanceof Object&&b.src&&(l=n,j=b),j=createjs.LoadItem.create(j),j.path=l,null==l||j.src instanceof Object||(j.src=l+b);var i=d._registerSound(j);if(!i){return !1}if(d._preloadHash[j.src]||(d._preloadHash[j.src]=[]),d._preloadHash[j.src].push(j),1==d._preloadHash[j.src].length){i.on("complete",createjs.proxy(this._handleLoadComplete,this)),i.on("error",createjs.proxy(this._handleLoadError,this)),d.activePlugin.preload(i)}else{if(1==d._preloadHash[j.src][0]){return !0}}return j},d.registerSounds=function(i,h){var l=[];i.path&&(h?h+=i.path:h=i.path,i=i.manifest);for(var k=0,j=i.length;j>k;k++){l[k]=createjs.Sound.registerSound(i[k].src,i[k].id,i[k].data,h,i[k].defaultPlayProps)}return l},d.removeSound=function(i,h){if(null==d.activePlugin){return !1}i instanceof Object&&i.src&&(i=i.src);var b;if(i instanceof Object?b=d._parseSrc(i):(i=d._getSrcById(i).src,b=d._parsePath(i)),null==b){return !1}i=b.src,null!=h&&(i=h+i);for(var a in d._idHash){d._idHash[a].src==i&&delete d._idHash[a]}return e.removeSrc(i),delete d._preloadHash[i],d.activePlugin.removeSound(i),!0},d.removeSounds=function(i,h){var l=[];i.path&&(h?h+=i.path:h=i.path,i=i.manifest);for(var k=0,j=i.length;j>k;k++){l[k]=createjs.Sound.removeSound(i[k].src,h)}return l},d.removeAllSounds=function(){d._idHash={},d._preloadHash={},e.removeAll(),d.activePlugin&&d.activePlugin.removeAllSounds()},d.loadComplete=function(b){if(!d.isReady()){return !1}var h=d._parsePath(b);return b=h?d._getSrcById(h.src).src:d._getSrcById(b).src,void 0==d._preloadHash[b]?!1:1==d._preloadHash[b][0]},d._parsePath=function(b){"string"!=typeof b&&(b=b.toString());var n=b.match(d.FILE_PATTERN);if(null==n){return !1}for(var m=n[4],l=n[5],k=d.capabilities,j=0;!k[l];){if(l=d.alternateExtensions[j++],j>d.alternateExtensions.length){return null}}b=b.replace("."+n[5],"."+l);var i={name:m,src:b,extension:l};return i},d._parseSrc=function(b){var k={name:void 0,src:void 0,extension:void 0},j=d.capabilities;for(var i in b){if(b.hasOwnProperty(i)&&j[i]){k.src=b[i],k.extension=i;break}}if(!k.src){return !1}var h=k.src.lastIndexOf("/");return k.name=-1!=h?k.src.slice(h+1):k.src,k},d.play=function(y,x,w,v,u,t,r,q,p){var o;o=createjs.PlayPropsConfig.create(x instanceof Object||x instanceof createjs.PlayPropsConfig?x:{interrupt:x,delay:w,offset:v,loop:u,volume:t,pan:r,startTime:q,duration:p});var n=d.createInstance(y,o.startTime,o.duration),b=d._playInstance(n,o);return b||n._playFailed(),n},d.createInstance=function(l,k,j){if(!d.initializeDefaultPlugins()){return new createjs.DefaultSoundInstance(l,k,j)}var i=d._defaultPlayPropsHash[l];l=d._getSrcById(l);var b=d._parsePath(l.src),a=null;return null!=b&&null!=b.src?(e.create(b.src),null==k&&(k=l.startTime),a=d.activePlugin.create(b.src,k,j||l.duration),i=i||d._defaultPlayPropsHash[b.src],i&&a.applyPlayProps(i)):a=new createjs.DefaultSoundInstance(l,k,j),a.uniqueId=d._lastID++,a},d.stop=function(){for(var h=this._instances,c=h.length;c--;){h[c].stop()}},d.setVolume=function(b){if(null==Number(b)){return !1}if(b=Math.max(0,Math.min(1,b)),d._masterVolume=b,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(b)){for(var j=this._instances,i=0,h=j.length;h>i;i++){j[i].setMasterVolume(b)}}},d.getVolume=function(){return this._masterVolume},d.setMute=function(i){if(null==i){return !1}if(this._masterMute=i,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(i)){for(var h=this._instances,k=0,j=h.length;j>k;k++){h[k].setMasterMute(i)}}return !0},d.getMute=function(){return this._masterMute},d.setDefaultPlayProps=function(b,h){b=d._getSrcById(b),d._defaultPlayPropsHash[d._parsePath(b.src).src]=createjs.PlayPropsConfig.create(h)},d.getDefaultPlayProps=function(b){return b=d._getSrcById(b),d._defaultPlayPropsHash[d._parsePath(b.src).src]},d._playInstance=function(b,k){var j=d._defaultPlayPropsHash[b.src]||{};if(null==k.interrupt&&(k.interrupt=j.interrupt||d.defaultInterruptBehavior),null==k.delay&&(k.delay=j.delay||0),null==k.offset&&(k.offset=b.getPosition()),null==k.loop&&(k.loop=b.loop),null==k.volume&&(k.volume=b.volume),null==k.pan&&(k.pan=b.pan),0==k.delay){var i=d._beginPlaying(b,k);if(!i){return !1}}else{var h=setTimeout(function(){d._beginPlaying(b,k)},k.delay);b.delayTimeoutId=h}return this._instances.push(b),!0},d._beginPlaying=function(a,j){if(!e.add(a,j.interrupt)){return !1}var i=a._beginPlaying(j);if(!i){var h=createjs.indexOf(this._instances,a);return h>-1&&this._instances.splice(h,1),!1}return !0},d._getSrcById=function(b){return d._idHash[b]||{src:b}},d._playFinished=function(a){e.remove(a);var h=createjs.indexOf(this._instances,a);h>-1&&this._instances.splice(h,1)},createjs.Sound=f,e.channels={},e.create=function(a,i){var h=e.get(a);return null==h?(e.channels[a]=new e(a,i),!0):!1},e.removeSrc=function(a){var h=e.get(a);return null==h?!1:(h._removeAll(),delete e.channels[a],!0)},e.removeAll=function(){for(var a in e.channels){e.channels[a]._removeAll()}e.channels={}},e.add=function(a,i){var h=e.get(a.src);return null==h?!1:h._add(a,i)},e.remove=function(a){var h=e.get(a.src);return null==h?!1:(h._remove(a),!0)},e.maxPerChannel=function(){return g.maxDefault},e.get=function(a){return e.channels[a]};var g=e.prototype;g.constructor=e,g.src=null,g.max=null,g.maxDefault=100,g.length=0,g.init=function(h,c){this.src=h,this.max=c||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},g._get=function(b){return this._instances[b]},g._add=function(h,c){return this._getSlot(c,h)?(this._instances.push(h),this.length++,!0):!1},g._remove=function(h){var c=createjs.indexOf(this._instances,h);return -1==c?!1:(this._instances.splice(c,1),this.length--,!0)},g._removeAll=function(){for(var b=this.length-1;b>=0;b--){this._instances[b].stop()}},g._getSlot=function(i){var h,l;if(i!=f.INTERRUPT_NONE&&(l=this._get(0),null==l)){return !0}for(var k=0,j=this.max;j>k;k++){if(h=this._get(k),null==h){return !0}if(h.playState==f.PLAY_FINISHED||h.playState==f.PLAY_INTERRUPTED||h.playState==f.PLAY_FAILED){l=h;break}i!=f.INTERRUPT_NONE&&(i==f.INTERRUPT_EARLY&&h.getPosition()<l.getPosition()||i==f.INTERRUPT_LATE&&h.getPosition()>l.getPosition())&&(l=h)}return null!=l?(l._interrupt(),this._remove(l),!0):!1},g.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){var c=function(f,e,h,g){this.EventDispatcher_constructor(),this.src=f,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,h||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),g!==!1&&g!==!0&&this.setPlaybackResource(g),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},b=createjs.extend(c,createjs.EventDispatcher);b.play=function(i,h,n,m,l,k){var j;return j=createjs.PlayPropsConfig.create(i instanceof Object||i instanceof createjs.PlayPropsConfig?i:{interrupt:i,delay:h,offset:n,loop:m,volume:l,pan:k}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(j),void (this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,j),this)},b.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},b.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},b.applyPlayProps=function(d){return null!=d.offset&&this.setPosition(d.offset),null!=d.loop&&this.setLoop(d.loop),null!=d.volume&&this.setVolume(d.volume),null!=d.pan&&this.setPan(d.pan),null!=d.startTime&&(this.setStartTime(d.startTime),this.setDuration(d.duration)),this},b.toString=function(){return"[AbstractSoundInstance]"},b.getPaused=function(){return this._paused},b.setPaused=function(d){return d!==!0&&d!==!1||this._paused==d||1==d&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=d,d?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},b.setVolume=function(d){return d==this._volume?this:(this._volume=Math.max(0,Math.min(1,d)),this._muted||this._updateVolume(),this)},b.getVolume=function(){return this._volume},b.setMuted=function(d){return d===!0||d===!1?(this._muted=d,this._updateVolume(),this):void 0},b.getMuted=function(){return this._muted},b.setPan=function(d){return d==this._pan?this:(this._pan=Math.max(-1,Math.min(1,d)),this._updatePan(),this)},b.getPan=function(){return this._pan},b.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},b.setPosition=function(d){return this._position=Math.max(0,d),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},b.getStartTime=function(){return this._startTime},b.setStartTime=function(d){return d==this._startTime?this:(this._startTime=Math.max(0,d||0),this._updateStartTime(),this)},b.getDuration=function(){return this._duration},b.setDuration=function(d){return d==this._duration?this:(this._duration=Math.max(0,d||0),this._updateDuration(),this)},b.setPlaybackResource=function(d){return this._playbackResource=d,0==this._duration&&this._setDurationFromSource(),this},b.getPlaybackResource=function(){return this._playbackResource},b.getLoop=function(){return this._loop},b.setLoop=function(d){null!=this._playbackResource&&(0!=this._loop&&0==d?this._removeLooping(d):0==this._loop&&0!=d&&this._addLooping(d)),this._loop=d},b._sendEvent=function(e){var d=new createjs.Event(e);this.dispatchEvent(d)},b._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},b._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},b._beginPlaying=function(d){return this.setPosition(d.offset),this.setLoop(d.loop),this.setVolume(d.volume),this.setPan(d.pan),null!=d.startTime&&(this.setStartTime(d.startTime),this.setDuration(d.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},b._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},b._handleSoundComplete=function(){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},b._handleSoundReady=function(){},b._updateVolume=function(){},b._updatePan=function(){},b._updateStartTime=function(){},b._updateDuration=function(){},b._setDurationFromSource=function(){},b._calculateCurrentPosition=function(){},b._updatePosition=function(){},b._removeLooping=function(){},b._addLooping=function(){},b._pause=function(){},b._resume=function(){},b._handleStop=function(){},b._handleCleanUp=function(){},b._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(c,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){var c=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},b=c.prototype;c._capabilities=null,c.isSupported=function(){return !0},b.register=function(e){var d=this._loaders[e.src];return d&&!d.canceled?this._loaders[e.src]:(this._audioSources[e.src]=!0,this._soundInstances[e.src]=[],d=new this._loaderClass(e),d.on("complete",createjs.proxy(this._handlePreloadComplete,this)),this._loaders[e.src]=d,d)},b.preload=function(d){d.on("error",createjs.proxy(this._handlePreloadError,this)),d.load()},b.isPreloadStarted=function(d){return null!=this._audioSources[d]},b.isPreloadComplete=function(d){return !(null==this._audioSources[d]||1==this._audioSources[d])},b.removeSound=function(e){if(this._soundInstances[e]){for(var d=this._soundInstances[e].length;d--;){var f=this._soundInstances[e][d];f.destroy()}delete this._soundInstances[e],delete this._audioSources[e],this._loaders[e]&&this._loaders[e].destroy(),delete this._loaders[e]}},b.removeAllSounds=function(){for(var d in this._audioSources){this.removeSound(d)}},b.create=function(f,e,h){this.isPreloadStarted(f)||this.preload(this.register(f));var g=new this._soundInstanceClass(f,e,h,this._audioSources[f]);return this._soundInstances[f].push(g),g},b.setVolume=function(d){return this._volume=d,this._updateVolume(),!0},b.getVolume=function(){return this._volume},b.setMute=function(){return this._updateVolume(),!0},b.toString=function(){return"[AbstractPlugin]"},b._handlePreloadComplete=function(g){var f=g.target.getItem().src;this._audioSources[f]=g.result;for(var j=0,i=this._soundInstances[f].length;i>j;j++){var h=this._soundInstances[f][j];h.setPlaybackResource(this._audioSources[f])}},b._handlePreloadError=function(){},b._updateVolume=function(){},createjs.AbstractPlugin=c}(),this.createjs=this.createjs||{},function(){function d(b){this.AbstractLoader_constructor(b,!0,createjs.AbstractLoader.SOUND)}var c=createjs.extend(d,createjs.AbstractLoader);d.context=null,c.toString=function(){return"[WebAudioLoader]"},c._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},c._sendComplete=function(){d.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},c._handleAudioDecoded=function(b){this._result=b,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(d,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){function e(b,h,g,f){this.AbstractSoundInstance_constructor(b,h,g,f),this.gainNode=c.context.createGain(),this.panNode=c.context.createPanner(),this.panNode.panningModel=c._panningModel,this.panNode.connect(this.gainNode),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var d=createjs.extend(e,createjs.AbstractSoundInstance),c=e;c.context=null,c.destinationNode=null,c._panningModel="equalpower",d.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},d.toString=function(){return"[WebAudioSoundInstance]"},d._updatePan=function(){this.panNode.setPosition(this._pan,0,-0.5)},d._removeLooping=function(){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},d._addLooping=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},d._setDurationFromSource=function(){this._duration=1000*this.playbackResource.duration},d._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},d._cleanUpAudioNode=function(b){return b&&(b.stop(0),b.disconnect(0),b=null),b},d._handleSoundReady=function(){this.gainNode.connect(c.destinationNode);var b=0.001*this._duration,f=0.001*this._position;f>b&&(f=b),this.sourceNode=this._createAndPlayAudioNode(c.context.currentTime-b,f),this._playbackStartTime=this.sourceNode.startTime-f,this._soundCompleteTimeout=setTimeout(this._endedHandler,1000*(b-f)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},d._createAndPlayAudioNode=function(b,h){var g=c.context.createBufferSource();g.buffer=this.playbackResource,g.connect(this.panNode);var f=0.001*this._duration;return g.startTime=b+f,g.start(g.startTime,h+0.001*this._startTime,f-h),g},d._pause=function(){this._position=1000*(c.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},d._resume=function(){this._handleSoundReady()},d._updateVolume=function(){var b=this._muted?0:this._volume;b!=this.gainNode.gain.value&&(this.gainNode.gain.value=b)},d._calculateCurrentPosition=function(){return 1000*(c.context.currentTime-this._playbackStartTime)},d._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},d._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},d._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(e,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){function e(){this.AbstractPlugin_constructor(),this._panningModel=c._panningModel,this.context=c.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=c._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var d=createjs.extend(e,createjs.AbstractPlugin),c=e;c._capabilities=null,c._panningModel="equalpower",c.context=null,c.isSupported=function(){var b=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return"file:"!=location.protocol||b||this._isFileXHRSupported()?(c._generateCapabilities(),null==c.context?!1:!0):!1},c.playEmptySound=function(){if(null!=c.context){var b=c.context.createBufferSource();b.buffer=c.context.createBuffer(1,1,22050),b.connect(c.context.destination),b.start(0,0,0)}},c._isFileXHRSupported=function(){var g=!0,f=new XMLHttpRequest;try{f.open("GET","WebAudioPluginTest.fail",!1)}catch(h){return g=!1}f.onerror=function(){g=!1},f.onload=function(){g=404==this.status||200==this.status||0==this.status&&""!=this.response};try{f.send()}catch(h){g=!1}return g},c._generateCapabilities=function(){if(null==c._capabilities){var b=document.createElement("audio");if(null==b.canPlayType){return null}if(null==c.context){if(window.AudioContext){c.context=new AudioContext}else{if(!window.webkitAudioContext){return null}c.context=new webkitAudioContext}}c._compatibilitySetUp(),c.playEmptySound(),c._capabilities={panning:!0,volume:!0,tracks:-1};for(var n=createjs.Sound.SUPPORTED_EXTENSIONS,m=createjs.Sound.EXTENSION_MAP,l=0,k=n.length;k>l;l++){var j=n[l],i=m[j]||j;c._capabilities[j]="no"!=b.canPlayType("audio/"+j)&&""!=b.canPlayType("audio/"+j)||"no"!=b.canPlayType("audio/"+i)&&""!=b.canPlayType("audio/"+i)}c.context.destination.numberOfChannels<2&&(c._capabilities.panning=!1)}},c._compatibilitySetUp=function(){if(c._panningModel="equalpower",!c.context.createGain){c.context.createGain=c.context.createGainNode;var b=c.context.createBufferSource();b.__proto__.start=b.__proto__.noteGrainOn,b.__proto__.stop=b.__proto__.noteOff,c._panningModel=0}},d.toString=function(){return"[WebAudioPlugin]"},d._addPropsToClasses=function(){var b=this._soundInstanceClass;b.context=this.context,b.destinationNode=this.gainNode,b._panningModel=this._panningModel,this._loaderClass.context=this.context},d._updateVolume=function(){var b=createjs.Sound._masterMute?0:this._volume;b!=this.gainNode.gain.value&&(this.gainNode.gain.value=b)},createjs.WebAudioPlugin=createjs.promote(e,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){function e(){throw"HTMLAudioTagPool cannot be instantiated"}function f(){this._tags=[]}var d=e;d._tags={},d._tagPool=new f,d._tagUsed={},d.get=function(b){var h=d._tags[b];return null==h?(h=d._tags[b]=d._tagPool.get(),h.src=b):d._tagUsed[b]?(h=d._tagPool.get(),h.src=b):d._tagUsed[b]=!0,h},d.set=function(b,h){h==d._tags[b]?d._tagUsed[b]=!1:d._tagPool.set(h)},d.remove=function(b){var h=d._tags[b];return null==h?!1:(d._tagPool.set(h),delete d._tags[b],delete d._tagUsed[b],!0)},d.getDuration=function(b){var h=d._tags[b];return null==h?0:1000*h.duration},createjs.HTMLAudioTagPool=e;var g=f.prototype;g.constructor=f,g.get=function(){var b;return b=0==this._tags.length?this._createTag():this._tags.pop(),null==b.parentNode&&document.body.appendChild(b),b},g.set=function(h){var c=createjs.indexOf(this._tags,h);-1==c&&(this._tags.src=null,this._tags.push(h))},g.toString=function(){return"[TagPool]"},g._createTag=function(){var b=document.createElement("audio");return b.autoplay=!1,b.preload="none",b}}(),this.createjs=this.createjs||{},function(){function c(f,e,h,g){this.AbstractSoundInstance_constructor(f,e,h,g),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),h?this._audioSpriteStopTime=0.001*(e+h):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var b=createjs.extend(c,createjs.AbstractSoundInstance);b.setMasterVolume=function(){this._updateVolume()},b.setMasterMute=function(){this._updateVolume()},b.toString=function(){return"[HTMLAudioSoundInstance]"},b._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},b._handleCleanUp=function(){var e=this._playbackResource;if(null!=e){e.pause(),e.loop=!1,e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{e.currentTime=this._startTime}catch(d){}createjs.HTMLAudioTagPool.set(this.src,e),this._playbackResource=null}},b._beginPlaying=function(d){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(d)},b._handleSoundReady=function(){if(4!==this._playbackResource.readyState){var d=this._playbackResource;return d.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),d.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),d.preload="auto",void d.load()}this._updateVolume(),this._playbackResource.currentTime=0.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},b._handleTagReady=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},b._pause=function(){this._playbackResource.pause()},b._resume=function(){this._playbackResource.play()},b._updateVolume=function(){if(null!=this._playbackResource){var d=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;d!=this._playbackResource.volume&&(this._playbackResource.volume=d)}},b._calculateCurrentPosition=function(){return 1000*this._playbackResource.currentTime-this._startTime},b._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=0.001*(this._position+this._startTime)}catch(d){this._handleSetPositionSeek(null)}},b._handleSetPositionSeek=function(){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._handleAudioSpriteLoop=function(){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=0.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},b._handleLoop=function(){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},b._updateStartTime=function(){this._audioSpriteStopTime=0.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},b._updateDuration=function(){this._audioSpriteStopTime=0.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},createjs.HTMLAudioSoundInstance=createjs.promote(c,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){function e(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=c._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var d=createjs.extend(e,createjs.AbstractPlugin),c=e;c.MAX_INSTANCES=30,c._AUDIO_READY="canplaythrough",c._AUDIO_ENDED="ended",c._AUDIO_SEEKED="seeked",c._AUDIO_STALLED="stalled",c._TIME_UPDATE="timeupdate",c._capabilities=null,c.isSupported=function(){return c._generateCapabilities(),null!=c._capabilities},c._generateCapabilities=function(){if(null==c._capabilities){var b=document.createElement("audio");if(null==b.canPlayType){return null}c._capabilities={panning:!1,volume:!0,tracks:-1};for(var n=createjs.Sound.SUPPORTED_EXTENSIONS,m=createjs.Sound.EXTENSION_MAP,l=0,k=n.length;k>l;l++){var j=n[l],i=m[j]||j;c._capabilities[j]="no"!=b.canPlayType("audio/"+j)&&""!=b.canPlayType("audio/"+j)||"no"!=b.canPlayType("audio/"+i)&&""!=b.canPlayType("audio/"+i)}}},d.register=function(g){var f=createjs.HTMLAudioTagPool.get(g.src),h=this.AbstractPlugin_register(g);return h.setTag(f),h},d.removeSound=function(b){this.AbstractPlugin_removeSound(b),createjs.HTMLAudioTagPool.remove(b)},d.create=function(g,f,i){var h=this.AbstractPlugin_create(g,f,i);return h.setPlaybackResource(null),h},d.toString=function(){return"[HTMLAudioPlugin]"},d.setVolume=d.getVolume=d.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(e,"AbstractPlugin")}();