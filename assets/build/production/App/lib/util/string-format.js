(function(){var c,g,f,d,a={}.hasOwnProperty,b=function(k,i){for(var h in i){if(a.call(i,h)){k[h]=i[h]}}function j(){this.constructor=k}j.prototype=i.prototype;k.prototype=new j();k.__super__=i.prototype;return k},e=[].slice;c=(function(i){b(h,i);function h(j){this.message=j}h.prototype.name="ValueError";return h})(Error);g=function(){var k,j,h,i,m,l;l=arguments[0],k=2<=arguments.length?e.call(arguments,1):[];h=0;j=i=false;m="cannot switch from {} to {} numbering";return l.replace(/([{}])\1|[{](.*?)(?:!(.+?))?[}]/g,function(p,s,q,o){var r,u,t,n;if(s){return s}if(q.length){j=true;if(i){throw new c(m.format("implicit","explicit"))}u=(t=f(k,q))!=null?t:""}else{i=true;if(j){throw new c(m.format("explicit","implicit"))}u=(n=k[h++])!=null?n:""}if(r=g.transformers[o]){return r(u)}else{return u}})};f=function(i,j){var h;if(!/^(\d+)([.]|$)/.test(j)){j="0."+j}while(h=/(.+?)[.](.+)/.exec(j)){i=d(i,h[1]);j=h[2]}return d(i,j)};d=function(h,i){var j;j=h[i];if(typeof j==="function"){return j.call(h)}else{return j}};String.prototype.format=function(){var h;h=1<=arguments.length?e.call(arguments,0):[];return g.apply(null,[this].concat(e.call(h)))};String.prototype.format.transformers=g.transformers={};String.prototype.format.version=g.version="0.2.1";if(typeof module!=="undefined"&&module!==null){module.exports=g}}).call(this);